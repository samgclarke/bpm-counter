function changeToView(t){views.forEach(function(e){e.id===t?(document.getElementById(e.id+"-link").className="display-none",document.getElementById(e.id).className=""):(document.getElementById(e.id).className="display-none",document.getElementById(e.id+"-link").className="")})}function reset(t){data.tally=[],data.timing.start=void 0,data.timing.end=void 0,document.getElementById(t).blur(),document.getElementById("output").innerHTML="waiting...",document.getElementById("genre").innerHTML="waiting..."}function tap(t){var e,n,a,i,d,o=0;e=t?t.timeStamp:new Date,data.timing.start?data.timing.end?data.timing.start&&data.timing.end&&(data.timing.start=data.timing.end,data.timing.end=e):data.timing.end=e:(showInterstitial(),data.timing.start=e),n=6e4/(data.timing.end-data.timing.start),n&&(data.tally.push(n),data.tally.forEach(function(t,e){o+=t}),a=Math.round(o/data.tally.length),a&&(document.getElementById("output").innerHTML=a+" bpm",i=10*Math.floor(a/10),d=data.genres[i],document.getElementById("genre").innerHTML=d||"Not sure..."))}function showInterstitial(){document.getElementById("output").innerHTML="tap again!",document.getElementById("genre").innerHTML="awaiting second tap..."}var data=new Object,views=new Array;data.tally=[],data.timing={start:void 0,end:void 0},data.genres={70:"Dub/Reggae",80:"Dub/Reggae",90:"Hip Hop",100:"Chill",110:"Breaks",120:"Deep House",130:"House",140:"Trance",150:"Jungle",160:"Drum & Bass",170:"Drum & Bass",180:"Gabber"},views=[{id:"root",title:"Home"},{id:"about",title:"About"}],function(){document.addEventListener("keydown",tap,!1),changeToView("root")}();